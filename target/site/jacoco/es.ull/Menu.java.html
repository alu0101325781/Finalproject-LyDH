<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Menu.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Finalproject-LyDH</a> &gt; <a href="index.source.html" class="el_package">es.ull</a> &gt; <span class="el_source">Menu.java</span></div><h1>Menu.java</h1><pre class="source lang-java linenums">package es.ull;

import javax.swing.*;
import java.awt.*;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;

/** 
 * Class Menu that handles the menu of the game
 */
public class Menu extends JFrame {

        static final String NORMAL = &quot;Normal&quot;;
        static final String DIFICIL = &quot;Difícil&quot;;
        static final String MUYDIFICIL = &quot;Muy Difícil&quot;;
        static final String IMPOSIBLE = &quot;Imposible&quot;;


    /**
     * Constructor of the class Menu
     */
<span class="nc" id="L22">    public Menu() {</span>
<span class="nc" id="L23">        initializeUI();</span>
<span class="nc" id="L24">    }</span>

    /**
     * Initializes the UI
     */
    private void initializeUI() {
<span class="nc" id="L30">        setTitle(&quot;2048&quot;);</span>
<span class="nc" id="L31">        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span>
<span class="nc" id="L32">        setSize(300, 250);</span>
<span class="nc" id="L33">        setResizable(false);</span>
<span class="nc" id="L34">        setLocationRelativeTo(null);</span>

        JButton lightModeButton;
        JButton darkModeButton;


        // Crear un panel principal con un diseño de cuadrícula
<span class="nc" id="L41">        JPanel mainPanel = new JPanel(new GridLayout(3, 1, 10, 10));</span>
<span class="nc" id="L42">        mainPanel.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));</span>

        // Crear botones con un diseño más limpio y agregarlos al panel principal
<span class="nc" id="L45">        lightModeButton = createStyledButton(&quot;Light Mode&quot;, new Color(214, 204, 194, 255), new Color(0xFFE76F51, true));</span>
<span class="nc" id="L46">        lightModeButton.addActionListener(e -&gt; openDifficultyWindow(false));</span>
<span class="nc" id="L47">        mainPanel.add(lightModeButton);</span>


<span class="nc" id="L50">        darkModeButton = createStyledButton(&quot;Dark Mode&quot;, new Color(59, 57, 57),new Color(0xABFFFF) );</span>
<span class="nc" id="L51">        darkModeButton.addActionListener(e -&gt; openDifficultyWindow(true));</span>
<span class="nc" id="L52">        mainPanel.add(darkModeButton);</span>


        // Agregar el panel principal al JFrame
<span class="nc" id="L56">        add(mainPanel);</span>

        // Hacer visible la ventana
<span class="nc" id="L59">        setVisible(true);</span>
<span class="nc" id="L60">    }</span>

    /**
     * Creates a button with a custom style
     * @param text Text to display on the button
     * @param backgroundColor Background color of the button
     * @param foregroundColor Foreground color of the button
     * @return The button with the custom style
     */
    private RoundButton createStyledButton(String text, Color backgroundColor, Color foregroundColor) {
<span class="nc" id="L70">        RoundButton button = new RoundButton(text, backgroundColor, foregroundColor);</span>
<span class="nc" id="L71">        button.addMouseListener(new MouseAdapter() {</span>
            @Override
            public void mouseEntered(MouseEvent e) {
<span class="nc" id="L74">                button.setBackground(backgroundColor.brighter());</span>
<span class="nc" id="L75">                repaint();</span>
<span class="nc" id="L76">                button.setSize(new Dimension(button.getWidth() + 10, button.getHeight() + 5));</span>
<span class="nc" id="L77">            }</span>

            @Override
            public void mouseExited(MouseEvent e) {
<span class="nc" id="L81">                button.setSize(new Dimension(button.getWidth() - 10, button.getHeight() - 5));</span>
<span class="nc" id="L82">            }</span>

        });
<span class="nc" id="L85">        return button;</span>
    }

    /**
     * Opens the difficulty window
     * @param isDarkMode True if the dark mode is enabled, false otherwise
     */
    private void openDifficultyWindow(boolean isDarkMode) {
<span class="nc" id="L93">        JFrame difficultyFrame = new JFrame(&quot;Select Difficulty&quot;);</span>
<span class="nc" id="L94">        difficultyFrame.setSize(300, 250);</span>
<span class="nc" id="L95">        difficultyFrame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span>
<span class="nc" id="L96">        difficultyFrame.setResizable(false);</span>
<span class="nc" id="L97">        difficultyFrame.setLocationRelativeTo(null);</span>

<span class="nc" id="L99">        JPanel difficultyPanel = new JPanel(new GridLayout(4, 1, 10, 10));</span>
<span class="nc" id="L100">        difficultyPanel.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));</span>


<span class="nc" id="L103">        String[] difficulties = {NORMAL, DIFICIL, MUYDIFICIL, IMPOSIBLE};</span>

<span class="nc bnc" id="L105" title="All 2 branches missed.">        for (String difficulty : difficulties) {</span>
<span class="nc" id="L106">            JButton difficultyButton = createStyledButton(difficulty, Color.GRAY, Color.WHITE);</span>
<span class="nc" id="L107">            difficultyButton.addActionListener( e -&gt; {</span>
<span class="nc" id="L108">                Board.setDificultad(setDifficulty(difficulty));</span>
<span class="nc" id="L109">                difficultyFrame.dispose();</span>
<span class="nc" id="L110">                openModeWindow(isDarkMode);</span>
<span class="nc" id="L111">            });</span>
<span class="nc" id="L112">            difficultyPanel.add(difficultyButton);</span>
        }


<span class="nc" id="L116">        difficultyFrame.add(difficultyPanel);</span>
<span class="nc" id="L117">        difficultyFrame.setVisible(true);</span>



<span class="nc" id="L121">    }</span>

    /**
     * Sets the difficulty of the game
     * @param difficulty Difficulty of the game
     * @return The difficulty of the game
     */
    int setDifficulty(String difficulty) {
<span class="nc bnc" id="L129" title="All 5 branches missed.">        switch (difficulty) {</span>
            case NORMAL:
<span class="nc" id="L131">                return 2;</span>
            case DIFICIL:
<span class="nc" id="L133">                return 3;</span>
            case MUYDIFICIL:
<span class="nc" id="L135">                return 4;</span>
            case IMPOSIBLE:
<span class="nc" id="L137">                return 5;</span>
            default:
<span class="nc" id="L139">                return 2; // Default to normal difficulty</span>
        }
    }

    /**
     * Opens the mode window
     * @param isDarkMode True if the dark mode is enabled, false otherwise
     */
    private void openModeWindow(boolean isDarkMode) {
<span class="nc" id="L148">        JFrame modeFrame = new JFrame(&quot;Select Mode&quot;);</span>
<span class="nc" id="L149">        modeFrame.setSize(300, 250);</span>
<span class="nc" id="L150">        modeFrame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span>
<span class="nc" id="L151">        modeFrame.setResizable(false);</span>
<span class="nc" id="L152">        modeFrame.setLocationRelativeTo(null);</span>

<span class="nc" id="L154">        JPanel modePanel = new JPanel(new GridLayout(4, 1, 10, 10));</span>
<span class="nc" id="L155">        modePanel.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));</span>

<span class="nc" id="L157">        String[] modes = {NORMAL, &quot;Sin Fin&quot;};</span>

<span class="nc bnc" id="L159" title="All 2 branches missed.">        for (String mode : modes) {</span>
<span class="nc" id="L160">            JButton modeButton = createStyledButton(mode, Color.GRAY, Color.WHITE);</span>
<span class="nc" id="L161">            modeButton.addActionListener( e -&gt; {</span>
<span class="nc" id="L162">                Board.setModo(setMode(mode));</span>
<span class="nc" id="L163">                modeFrame.dispose();</span>
<span class="nc" id="L164">                openGameWindow(isDarkMode);</span>
<span class="nc" id="L165">            });</span>
<span class="nc" id="L166">            modePanel.add(modeButton);</span>
        }


<span class="nc" id="L170">        modeFrame.add(modePanel);</span>
<span class="nc" id="L171">        modeFrame.setVisible(true);</span>

<span class="nc" id="L173">    }</span>

    /**
     * Sets the mode of the game
     * @param modes Mode of the game
     * @return The mode of the game
     */
    static int setMode(String modes) {
<span class="nc bnc" id="L181" title="All 2 branches missed.">        if(NORMAL.equals(modes)) {</span>
<span class="nc" id="L182">            return 0;</span>
        } else {
<span class="nc" id="L184">            return 1;</span>
        }
    }

    /**
     * Opens the game window
     * @param isDarkMode True if the dark mode is enabled, false otherwise
     */
    private static void openGameWindowStatic(boolean isDarkMode) {
<span class="nc" id="L193">        Game.isDarkMode = isDarkMode;</span>
<span class="nc" id="L194">    }</span>

    /**
     * Opens the game window
     * @param isDarkMode True if the dark mode is enabled, false otherwise
     */
    private void openGameWindow(boolean isDarkMode) {
<span class="nc" id="L201">        openGameWindowStatic(isDarkMode);</span>
<span class="nc" id="L202">        dispose();</span>
<span class="nc" id="L203">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>